import{r as a,j as e,e as c,F as w,L as r,B as y,g as v}from"./index-B5frEt5u.js";import{U as L}from"./user-BRxEefNs.js";import{A as m}from"./arrow-right-BIe5Uh-o.js";const _=()=>{const[x,h]=a.useState(null),[g,u]=a.useState(!0),[d,b]=a.useState([]),[f,p]=a.useState(!0);if(a.useEffect(()=>{(async()=>{try{const n=await(await fetch(`${window.API_BASE_URL}/api/user/dashboard-summary`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n.success&&h(n.data)}catch(l){console.error("Error fetching dashboard summary:",l)}finally{u(!1)}})()},[]),a.useEffect(()=>{(async()=>{try{const n=await(await fetch(`${window.API_BASE_URL}/api/jobs`)).json();n.success&&b(n.data.slice(0,3))}catch(l){console.error("Error fetching latest jobs:",l)}finally{p(!1)}})()},[]),g)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(c,{className:"w-8 h-8 animate-spin text-blue-600"})});const{profile_percentage:j=0,is_profile_complete:o=!1,is_document_uploaded:t=!1,has_applied:i=!1}=x||{},N=[{name:"Status Profil",stat:`${j}%`,subtext:o?"Lengkap":"Belum Lengkap",icon:L,color:o?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600",link:"/dashboard/user/profile"},{name:"Status Dokumen",stat:t?"Tersedia":"Belum Ada",subtext:t?"Sudah Diunggah":"Segera Lengkapi",icon:w,color:t?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600",link:"/dashboard/user/documents"}];return e.jsxs("div",{className:"space-y-6 max-w-6xl",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Pantau perkembangan profil dan lamaran Anda."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-2",children:N.map(s=>e.jsx(r,{to:s.link,className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${s.color}`,children:e.jsx(s.icon,{className:"h-6 w-6","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:s.name}),e.jsx("dd",{className:"text-xl font-bold text-gray-900",children:s.stat}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:s.subtext})]})]}),e.jsx("div",{className:"text-gray-300",children:e.jsx(m,{className:"w-5 h-5"})})]})},s.name))}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lowongan Terbaru"}),e.jsx(r,{to:"/dashboard/user/lowongan",className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:"Lihat Semua"})]}),f?e.jsx("div",{className:"flex justify-center py-6",children:e.jsx(c,{className:"w-6 h-6 animate-spin text-blue-600"})}):d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(s=>e.jsx(r,{to:`/jobs/${s.id}/details`,className:"block bg-gray-50 hover:bg-white border hover:border-blue-200 rounded-lg p-4 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-white rounded border text-blue-600",children:e.jsx(y,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:s.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.location," â€¢ ",s.type]})]})]}),e.jsx(m,{className:"w-4 h-4 text-gray-300"})]})},s.id))}):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Belum ada lowongan terbaru."})]}),(!o||!t||!i)&&e.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-orange-500"})," Langkah Selanjutnya"]}),e.jsxs("div",{className:"space-y-3",children:[!o&&e.jsxs(r,{to:"/dashboard/user/profile",className:"flex items-center gap-3 p-3 rounded-lg border border-orange-50 bg-orange-50/20 text-orange-700 hover:bg-white hover:border-orange-200 transition-all",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Lengkapi Data Diri"})]}),!t&&e.jsxs(r,{to:"/dashboard/user/documents",className:"flex items-center gap-3 p-3 rounded-lg border border-blue-50 bg-blue-50/20 text-blue-700 hover:bg-white hover:border-blue-200 transition-all",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload Dokumen Wajib"})]}),!i&&e.jsxs(r,{to:"/dashboard/user/lowongan",className:"flex items-center gap-3 p-3 rounded-lg border border-green-50 bg-green-50/20 text-green-700 hover:bg-white hover:border-green-200 transition-all",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Mulai Melamar Pekerjaan"})]})]})]})]})]})};export{_ as default};
