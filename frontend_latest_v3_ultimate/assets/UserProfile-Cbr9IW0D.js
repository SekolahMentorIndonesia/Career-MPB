import{c as He,j as e,l as Je,P as Ve,M as v,a as Ye,r as s,R as qe}from"./index-B5frEt5u.js";import{C as Qe}from"./ConfirmationModal-2kZPKyqO.js";import{U as _}from"./user-BRxEefNs.js";import{S as Xe}from"./save-DWpH1zYC.js";import{C as Re}from"./camera-oEDDWjEe.js";import{T as Ze}from"./trash-2-PlqAtpsV.js";import"./open-closed-BNHp7105.js";const Ee=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],D=He("book-open",Ee),Fe=({isEditing:t,name:m,setName:g,email:f,setEmail:y,phone:h,setPhone:p,provider:u,phoneVerifiedAt:k,nik:d,setNik:b,religion:w,setReligion:x,height:a,setHeight:o,weight:P,setWeight:l,birthPlace:T,setBirthPlace:L,birthDate:K,setBirthDate:N,missingFields:n=[]})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"DATA DIRI"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:`block text-sm font-semibold mb-1 ${n.includes("name")?"text-rose-600":"text-gray-700"}`,children:"Nama Lengkap"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"name",id:"name",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?n.includes("name")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":n.includes("name")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Nama Lengkap Anda",value:m,onChange:c=>g(c.target.value)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold mb-1 text-gray-700",children:["Email ",u==="google"&&e.jsx("span",{className:"text-[10px] ml-1 font-bold bg-blue-50 text-blue-600 px-2 py-0.5 rounded-full border border-blue-100",children:"Google Linked"})]}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Je,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",name:"email",id:"email",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t&&u!=="google"?"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":"border-transparent bg-gray-50/30 text-gray-500 cursor-not-allowed"}`,disabled:!t||u==="google",placeholder:"email@example.com",value:f,onChange:c=>y(c.target.value),title:u==="google"?"Email tidak dapat diubah karena login via Google":""})]}),t&&u==="google"&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email tidak dapat diubah karena akun terhubung dengan Google."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:`block text-sm font-semibold mb-1 ${n.includes("phone")?"text-rose-600":"text-gray-700"}`,children:"No. WhatsApp"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ve,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"tel",name:"phone",id:"phone",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?n.includes("phone")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":n.includes("phone")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"081234567890",value:h,onChange:c=>p(c.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nik",className:`block text-sm font-semibold mb-1 ${n.includes("nik")?"text-rose-600":"text-gray-700"}`,children:"NIK"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"nik",id:"nik",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?n.includes("nik")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":n.includes("nik")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Nomor Induk Kependudukan",value:d,onChange:c=>b(c.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"religion",className:`block text-sm font-semibold mb-1 ${n.includes("religion")?"text-rose-600":"text-gray-700"}`,children:"Agama"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("select",{name:"religion",id:"religion",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?n.includes("religion")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":n.includes("religion")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,value:w,onChange:c=>x(c.target.value),children:[e.jsx("option",{value:"",children:"Pilih Agama"}),e.jsx("option",{value:"Islam",children:"Islam"}),e.jsx("option",{value:"Protestan",children:"Protestan"}),e.jsx("option",{value:"Katolik",children:"Katolik"}),e.jsx("option",{value:"Hindu",children:"Hindu"}),e.jsx("option",{value:"Buddha",children:"Buddha"}),e.jsx("option",{value:"Khonghucu",children:"Khonghucu"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"height",className:`block text-sm font-semibold mb-1 ${n.includes("height")?"text-rose-600":"text-gray-700"}`,children:"Tinggi Badan"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"height",id:"height",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?n.includes("height")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":n.includes("height")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Contoh: 170",value:a,onChange:c=>o(c.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"weight",className:`block text-sm font-semibold mb-1 ${n.includes("weight")?"text-rose-600":"text-gray-700"}`,children:"Berat Badan"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"weight",id:"weight",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?n.includes("weight")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":n.includes("weight")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Contoh: 60",value:P,onChange:c=>l(c.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"birth-place",className:`block text-sm font-semibold mb-1 ${n.includes("birth_place")?"text-rose-600":"text-gray-700"}`,children:"Tempat Lahir"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"birth-place",id:"birth-place",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?n.includes("birth_place")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":n.includes("birth_place")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Contoh: Jakarta",value:T,onChange:c=>L(c.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"birth-date",className:`block text-sm font-semibold mb-1 ${n.includes("birth_date")?"text-rose-600":"text-gray-700"}`,children:"Tanggal Lahir"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"date",name:"birth-date",id:"birth-date",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500 focus:shadow-md transition-all duration-200 sm:text-sm disabled:text-gray-500 ${t?n.includes("birth_date")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white":n.includes("birth_date")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,value:K,onChange:c=>N(c.target.value)})]})]})]})]}),er=({isEditing:t,ktpAddress:m,setKtpAddress:g,ktpRt:f,setKtpRt:y,ktpRw:h,setKtpRw:p,ktpKelurahan:u,setKtpKelurahan:k,ktpKecamatan:d,setKtpKecamatan:b,ktpKabupaten:w,setKtpKabupaten:x,missingFields:a=[]})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"ALAMAT KTP"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ktp-address",className:`block text-sm font-semibold mb-1 ${a.includes("ktp_address")?"text-rose-600":"text-gray-700"}`,children:"Alamat"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("textarea",{name:"ktp-address",id:"ktp-address",rows:"3",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("ktp_address")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("ktp_address")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Alamat KTP Anda",value:m,onChange:o=>g(o.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ktp-rt",className:`block text-sm font-semibold mb-1 ${a.includes("ktp_rt")?"text-rose-600":"text-gray-700"}`,children:"RT"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"ktp-rt",id:"ktp-rt",maxLength:"5",className:`block w-full px-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("ktp_rt")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("ktp_rt")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"RT",value:f,onChange:o=>y(o.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ktp-rw",className:`block text-sm font-semibold mb-1 ${a.includes("ktp_rw")?"text-rose-600":"text-gray-700"}`,children:"RW"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"ktp-rw",id:"ktp-rw",maxLength:"5",className:`block w-full px-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("ktp_rw")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("ktp_rw")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"RW",value:h,onChange:o=>p(o.target.value)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ktp-kelurahan",className:`block text-sm font-semibold mb-1 ${a.includes("ktp_kelurahan")?"text-rose-600":"text-gray-700"}`,children:"Kelurahan"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"ktp-kelurahan",id:"ktp-kelurahan",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("ktp_kelurahan")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("ktp_kelurahan")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Kelurahan sesuai KTP",value:u,onChange:o=>k(o.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ktp-kecamatan",className:`block text-sm font-semibold mb-1 ${a.includes("ktp_kecamatan")?"text-rose-600":"text-gray-700"}`,children:"Kecamatan"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"ktp-kecamatan",id:"ktp-kecamatan",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("ktp_kecamatan")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("ktp_kecamatan")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Kecamatan sesuai KTP",value:d,onChange:o=>b(o.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ktp-kabupaten",className:`block text-sm font-semibold mb-1 ${a.includes("ktp_kabupaten")?"text-rose-600":"text-gray-700"}`,children:"Kabupaten/Kota"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"ktp-kabupaten",id:"ktp-kabupaten",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("ktp_kabupaten")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("ktp_kabupaten")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Kabupaten/Kota sesuai KTP",value:w,onChange:o=>x(o.target.value)})]})]})]})]}),rr=({isEditing:t,domicile:m,setDomicile:g,domicileRt:f,setDomicileRt:y,domicileRw:h,setDomicileRw:p,domicileKelurahan:u,setDomicileKelurahan:k,domicileKecamatan:d,setDomicileKecamatan:b,domicileKabupaten:w,setDomicileKabupaten:x,missingFields:a=[]})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"ALAMAT DOMISILI"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"domicile",className:`block text-sm font-semibold mb-1 ${a.includes("domicile_address")?"text-rose-600":"text-gray-700"}`,children:"Alamat Lengkap"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"domicile",id:"domicile",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("domicile_address")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("domicile_address")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Alamat domisili lengkap",value:m,onChange:o=>g(o.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"domicile-rt",className:`block text-sm font-semibold mb-1 ${a.includes("domicile_rt")?"text-rose-600":"text-gray-700"}`,children:"RT"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"domicile-rt",id:"domicile-rt",maxLength:"5",className:`block w-full px-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("domicile_rt")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("domicile_rt")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"RT",value:f,onChange:o=>y(o.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"domicile-rw",className:`block text-sm font-semibold mb-1 ${a.includes("domicile_rw")?"text-rose-600":"text-gray-700"}`,children:"RW"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{type:"text",name:"domicile-rw",id:"domicile-rw",maxLength:"5",className:`block w-full px-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("domicile_rw")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("domicile_rw")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"RW",value:h,onChange:o=>p(o.target.value)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"domicile-kelurahan",className:`block text-sm font-semibold mb-1 ${a.includes("domicile_kelurahan")?"text-rose-600":"text-gray-700"}`,children:"Kelurahan"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"domicile-kelurahan",id:"domicile-kelurahan",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("domicile_kelurahan")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("domicile_kelurahan")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Kelurahan domisili",value:u,onChange:o=>k(o.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"domicile-kecamatan",className:`block text-sm font-semibold mb-1 ${a.includes("domicile_kecamatan")?"text-rose-600":"text-gray-700"}`,children:"Kecamatan"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"domicile-kecamatan",id:"domicile-kecamatan",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("domicile_kecamatan")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("domicile_kecamatan")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Kecamatan domisili",value:d,onChange:o=>b(o.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"domicile-kabupaten",className:`block text-sm font-semibold mb-1 ${a.includes("domicile_kabupaten")?"text-rose-600":"text-gray-700"}`,children:"Kabupaten/Kota"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"domicile-kabupaten",id:"domicile-kabupaten",className:`block w-full pl-10 pr-3 py-2 border rounded-lg transition-all duration-200 sm:text-sm ${t?a.includes("domicile_kabupaten")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white focus:ring-blue-500 focus:border-blue-500":a.includes("domicile_kabupaten")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Kabupaten/Kota domisili",value:w,onChange:o=>x(o.target.value)})]})]})]})]}),tr=({isEditing:t,lastEducation:m,setLastEducation:g,gpa:f,setGpa:y,major:h,setMajor:p,skills:u,setSkills:k,missingFields:d=[]})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"PENDIDIKAN"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last-education",className:`block text-sm font-semibold mb-1 ${d.includes("last_education")?"text-rose-600":"text-gray-700"}`,children:"Pendidikan Terakhir"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(D,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("select",{name:"last-education",id:"last-education",className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-all duration-200 ${t?d.includes("last_education")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white":d.includes("last_education")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,value:m,onChange:b=>g(b.target.value),children:[e.jsx("option",{value:"",children:"Pilih Pendidikan Terakhir"}),e.jsx("option",{value:"SMA",children:"SMA"}),e.jsx("option",{value:"SMK",children:"SMK"}),e.jsx("option",{value:"MA",children:"MA"}),e.jsx("option",{value:"D1",children:"D1"}),e.jsx("option",{value:"D2",children:"D2"}),e.jsx("option",{value:"D3",children:"D3"}),e.jsx("option",{value:"D4",children:"D4"}),e.jsx("option",{value:"S1",children:"S1"}),e.jsx("option",{value:"S2",children:"S2"}),e.jsx("option",{value:"S3",children:"S3"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"major",className:`block text-sm font-semibold mb-1 ${d.includes("major")?"text-rose-600":"text-gray-700"}`,children:"Jurusan"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(D,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"major",id:"major",className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-all duration-200 ${t?d.includes("major")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white":d.includes("major")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Contoh: Teknik Informatika",value:h,onChange:b=>p(b.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gpa",className:`block text-sm font-semibold mb-1 ${d.includes("gpa")?"text-rose-600":"text-gray-700"}`,children:"Nilai Akhir/IPK"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(D,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"gpa",id:"gpa",className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-all duration-200 ${t?d.includes("gpa")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white":d.includes("gpa")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Contoh: 3.50",value:f,onChange:b=>y(b.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"skills",className:`block text-sm font-semibold mb-1 ${d.includes("skills")?"text-rose-600":"text-gray-700"}`,children:"Keahlian"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(D,{className:"h-5 w-5 text-gray-400"})}),e.jsx("textarea",{name:"skills",id:"skills",rows:"3",className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-all duration-200 ${t?d.includes("skills")?"border-rose-300 bg-rose-50/10 focus:ring-rose-500 focus:border-rose-500":"border-gray-300 bg-white":d.includes("skills")?"border-rose-200 bg-rose-50/5 text-gray-700 cursor-default":"border-transparent bg-gray-50/30 text-gray-700 cursor-default"}`,disabled:!t,placeholder:"Sebutkan keahlian Anda",value:u,onChange:b=>k(b.target.value)})]})]})]})]}),ir=()=>{const{user:t,token:m,logout:g,updateUser:f}=Ye(),[y,h]=s.useState(null),[p,u]=s.useState(null),[k,d]=s.useState(!1),[b,w]=s.useState(!0),[x,a]=s.useState({show:!1,message:"",type:"success"}),[o,P]=s.useState(!1),[l,T]=s.useState(null),[L,K]=s.useState(!1),N=(j,i="success")=>{a({show:!0,message:j,type:i}),setTimeout(()=>a({show:!1,message:"",type:"success"}),3e3)},[n,c]=s.useState(t?.name||""),[M,B]=s.useState(""),[I,U]=s.useState(""),[De,Te]=s.useState("local"),[Le,Me]=s.useState(null),[G,O]=s.useState(""),[z,W]=s.useState(""),[H,J]=s.useState(""),[V,Y]=s.useState(""),[q,Q]=s.useState(""),[X,Z]=s.useState(""),[E,F]=s.useState(""),[ee,re]=s.useState(""),[te,ae]=s.useState(""),[se,oe]=s.useState(""),[le,ne]=s.useState(""),[de,ce]=s.useState(""),[ie,ue]=s.useState(""),[me,be]=s.useState(""),[he,pe]=s.useState(""),[xe,ge]=s.useState(""),[fe,ye]=s.useState(""),[ke,je]=s.useState(""),[ve,we]=s.useState(""),[Ne,_e]=s.useState(""),[$e,Se]=s.useState(""),[Pe,Ke]=s.useState(""),[C,Be]=s.useState([]),$=`${window.API_BASE_URL}/api`;qe.useEffect(()=>{(async()=>{try{const i=await fetch(`${$}/user/profile`,{headers:{Authorization:`Bearer ${m}`}}),S=await i.json();if(S.status==="success"){const r=S.data;c(r.name||""),B(r.email||""),U(r.phone||""),Te(r.provider||"local"),Me(r.phone_verified_at),r.photo&&u(`${window.API_BASE_URL}${r.photo}`),re(r.nik||""),ce(r.religion||""),ue(r.height||""),be(r.weight||""),ge(r.birth_place||""),ye(r.birth_date||""),W(r.ktp_address||""),J(r.ktp_rt||""),Y(r.ktp_rw||""),Q(r.ktp_kelurahan||""),Z(r.ktp_kecamatan||""),F(r.ktp_kabupaten||r.ktp_city||""),O(r.domicile_address||""),je(r.domicile_rt||""),we(r.domicile_rw||""),_e(r.domicile_kelurahan||""),Se(r.domicile_kecamatan||""),Ke(r.domicile_kabupaten||r.domicile_city||""),ae(r.last_education||""),ne(r.major||""),oe(r.gpa||""),pe(r.skills||"");const R=[["name",r.name],["phone",r.phone],["nik",r.nik],["religion",r.religion],["height",r.height],["weight",r.weight],["birth_place",r.birth_place],["birth_date",r.birth_date],["ktp_address",r.ktp_address],["ktp_rt",r.ktp_rt],["ktp_rw",r.ktp_rw],["ktp_kelurahan",r.ktp_kelurahan],["ktp_kecamatan",r.ktp_kecamatan],["ktp_kabupaten",r.ktp_kabupaten||r.ktp_city],["domicile_address",r.domicile_address],["domicile_rt",r.domicile_rt],["domicile_rw",r.domicile_rw],["domicile_kelurahan",r.domicile_kelurahan],["domicile_kecamatan",r.domicile_kecamatan],["domicile_kabupaten",r.domicile_kabupaten],["last_education",r.last_education],["major",r.major],["gpa",r.gpa],["skills",r.skills]];Be(R.filter(([A,Ae])=>!Ae).map(([A])=>A)),r.photo&&u(`${window.API_BASE_URL}${r.photo}`)}else i.status===401&&g()}catch(i){console.error("Failed to fetch profile:",i)}finally{w(!1)}})()},[m,g]);const Ie=j=>{const i=j.target.files[0];if(i){if(i.size>2*1024*1024){N("Ukuran file maksimal 2MB","error");return}h(i),u(URL.createObjectURL(i))}},Ue=()=>{K(!0)},Ge=async()=>{K(!1),d(!0);try{const i=await(await fetch(`${$}/user/upload-photo`,{method:"DELETE",headers:{Authorization:`Bearer ${m}`}})).json();if(i.status==="success"){N("Foto profil berhasil dihapus","success"),h(null),u(null);const r=await(await fetch(`${$}/user/profile`,{headers:{Authorization:`Bearer ${m}`}})).json();r.status==="success"&&f(r.data)}else throw new Error(i.message||"Gagal menghapus foto")}catch(j){N(j.message||"Gagal menghapus foto","error")}finally{d(!1)}},Oe=async j=>{j.preventDefault(),d(!0);try{const S=await(await fetch(`${$}/user/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({name:n,email:M,phone:I,nik:ee,religion:de,height:ie,weight:me,birth_place:xe,birth_date:fe,ktp_address:z,ktp_rt:H,ktp_rw:V,ktp_kelurahan:q,ktp_kecamatan:X,ktp_kabupaten:E,domicile_address:G,domicile_rt:ke,domicile_rw:ve,domicile_kelurahan:Ne,domicile_kecamatan:$e,domicile_kabupaten:Pe,last_education:te,major:le,gpa:se,skills:he})})).json();if(S.status!=="success")throw new Error(S.message||"Gagal memperbarui data diri");if(y){const A=new FormData;A.append("photo",y);const Ce=await(await fetch(`${$}/user/upload-photo`,{method:"POST",headers:{Authorization:`Bearer ${m}`},body:A})).json();if(Ce.status!=="success")throw new Error(Ce.message||"Gagal mengunggah foto")}const R=await(await fetch(`${$}/user/profile`,{headers:{Authorization:`Bearer ${m}`}})).json();R.status==="success"&&f(R.data),P(!1),N("Profil berhasil diperbarui!","success")}catch(i){console.error("Update failed:",i),N(i.message||"Gagal memperbarui profil.","error")}finally{d(!1)}},ze=()=>{l&&(c(l.name),B(l.email),U(l.phone),re(l.nik),ce(l.religion),ue(l.height),be(l.weight),ge(l.birth_place),ye(l.birth_date),W(l.ktp_address),J(l.ktp_rt),Y(l.ktp_rw),Q(l.ktp_kelurahan),Z(l.ktp_kecamatan),F(l.ktp_kabupaten),O(l.domicile_address),je(l.domicile_rt),we(l.domicile_rw),_e(l.domicile_kelurahan),Se(l.domicile_kecamatan),Ke(l.domicile_kabupaten),ae(l.last_education),ne(l.major),oe(l.gpa),pe(l.skills),u(l.photo?`${window.API_BASE_URL}${l.photo}`:null)),P(!1),h(null)},We=()=>{T({name:n,email:M,phone:I,nik:ee,religion:de,height:ie,weight:me,birth_place:xe,birth_date:fe,ktp_address:z,ktp_rt:H,ktp_rw:V,ktp_kelurahan:q,ktp_kecamatan:X,ktp_kabupaten:E,domicile_address:G,domicile_rt:ke,domicile_rw:ve,domicile_kelurahan:Ne,domicile_kecamatan:$e,domicile_kabupaten:Pe,last_education:te,major:le,gpa:se,skills:he}),P(!0)};return b?e.jsx("div",{className:"p-6 text-center",children:"Memuat profil..."}):e.jsxs("div",{className:"p-6 relative",children:[e.jsx(Qe,{isOpen:L,title:"Hapus Foto Profil",message:"Apakah Anda yakin ingin menghapus foto profil Anda? Tindakan ini tidak dapat dibatalkan.",onConfirm:Ge,onCancel:()=>K(!1),confirmText:"Ya, Hapus",cancelText:"Batal",type:"danger"}),x.show&&e.jsx("div",{className:`fixed top-24 right-8 z-[100] transform transition-all duration-300 ${x.show?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:e.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-xl shadow-2xl border ${x.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800":"bg-rose-50 border-rose-200 text-rose-800"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${x.type==="success"?"bg-emerald-500":"bg-rose-500"}`}),e.jsx("p",{className:"text-sm font-bold tracking-wide",children:x.message})]})}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-primary text-gray-800",children:"Profil Saya"}),e.jsx("div",{className:"flex gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:ze,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-bold rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all",children:"Batal"}),e.jsxs("button",{type:"submit",form:"profile-form",disabled:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-bold rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-70 transition-all font-primary tracking-wide uppercase",children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),k?"Menyimpan...":"Simpan"]})]}):e.jsxs("button",{onClick:We,className:"inline-flex items-center px-5 py-2.5 border border-blue-600 rounded-lg shadow-sm text-sm font-bold text-blue-600 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all border-2",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Ubah Data Diri"]})})]}),e.jsxs("form",{id:"profile-form",onSubmit:Oe,children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"FOTO PROFIL"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-100 bg-gray-50 flex items-center justify-center",children:[p?e.jsx("img",{src:p,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(_,{className:"w-16 h-16 text-gray-300"}),o&&e.jsxs("label",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer rounded-full",children:[e.jsx(Re,{className:"w-8 h-8 text-white mb-1"}),e.jsx("span",{className:"text-[10px] text-white font-bold uppercase",children:"Ubah"}),e.jsx("input",{type:"file",className:"hidden",onChange:Ie,accept:"image/*"})]})]})}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Format JPG, PNG, atau WEBP. Maksimal 2MB.",e.jsx("br",{}),"Wajib menggunakan foto formal/resmi."]}),o&&p&&e.jsxs("button",{type:"button",onClick:Ue,className:"text-sm text-rose-600 hover:text-rose-700 font-bold flex items-center gap-2 justify-center sm:justify-start transition-colors",children:[e.jsx(Ze,{className:"w-4 h-4"})," Hapus Foto"]})]})]})]}),e.jsx(Fe,{isEditing:o,name:n,setName:c,email:M,setEmail:B,phone:I,setPhone:U,provider:De,phoneVerifiedAt:Le,nik:ee,setNik:re,religion:de,setReligion:ce,height:ie,setHeight:ue,weight:me,setWeight:be,birthPlace:xe,setBirthPlace:ge,birthDate:fe,setBirthDate:ye,missingFields:C}),e.jsx(tr,{isEditing:o,lastEducation:te,setLastEducation:ae,gpa:se,setGpa:oe,major:le,setMajor:ne,skills:he,setSkills:pe,missingFields:C}),e.jsx(er,{isEditing:o,ktpAddress:z,setKtpAddress:W,ktpRt:H,setKtpRt:J,ktpRw:V,setKtpRw:Y,ktpKelurahan:q,setKtpKelurahan:Q,ktpKecamatan:X,setKtpKecamatan:Z,ktpKabupaten:E,setKtpKabupaten:F,missingFields:C}),e.jsx(rr,{isEditing:o,domicile:G,setDomicile:O,domicileRt:ke,setDomicileRt:je,domicileRw:ve,setDomicileRw:we,domicileKelurahan:Ne,setDomicileKelurahan:_e,domicileKecamatan:$e,setDomicileKecamatan:Se,domicileKabupaten:Pe,setDomicileKabupaten:Ke,missingFields:C})]})]})};export{ir as default};
